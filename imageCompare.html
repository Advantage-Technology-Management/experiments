<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Image Viewer</title>
<span class="page-title">Pristine static rendition (2048 left/top then 4096 right/down) and dynamic size quality comparisons</span>
<style>
    /* CSS for styling */
    .page-title {
        position:fixed;
        top: 10px;
        font-weight:bold;
        font-size:large;
        text-align: center;
        
      }
    .image-container {
        /*display: flex;*/
        position: relative;
        top: 200px;
        /*flex-wrap: wrap;*/
        justify-content: center;
        text-align: center; /* Center align the text */
    }
    .image-container img {
        margin: 10px;
        height: auto;
        /**max-width: 100%; /* Ensure the image fits within its container */
    }
    .image-width {
        margin-top: 5px; /* Add some margin between the image and the text */
    }
    .pristine-image-width {
        margin-top: 5px; /* Add some margin between the image and the text */
    }
    .dropdown-container {
        position: fixed;
        top: 30px;
        left: 10px;
        z-index: 999;
        background-color: #ffffff;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        margin-bottom: 10px;
    }
    .width-inputs {
        position: fixed;
        top: 100px; /* Adjust the top position as needed */
        left: 10px;
        z-index: 999;
        background-color: #ffffff;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }
</style>
</head>
<body>


<div class="dropdown-container">
    Select LOB:
    <select id="lobSelect">
        <option value="">All</option>
    </select>
    <br>
    Select Image URL:
    <select id="imageUrlSelect">
    </select>
</div>
<div class="width-inputs">
    <label for="format">Pristine format:</label>
    <select name="format" id="format">
    <option value=".jpeg">.jpeg</option>
    <option value=".png">.png</option>
    </select>
<!-- <label for="size>">Pristine size:</label>
    <select name="size" id="size">
    <option value="2048">2048</option>
    <option value="4096">4096</option>
    </select>
-->
    <br>
    Width 1: <input type="text" id="width1" value="64"><br>
    Width 2: <input type="text" id="width2" value="120"><br>
    Width 3: <input type="text" id="width3" value="340"><br>
    Width 4: <input type="text" id="width4" value="720">
</div>
<div class="image-container"></div>

<script>
    // Array of image URLs
    var imageUrls = [["pcx","20050452001_enfr_front.png, 1500 x 1500, 1.5 MB"],

    ["pcx","20050452001_enfr_angle.png, 1500 x 1500, 1.5 MB"],
    ["pcx","21018384_enfr_front.png, 1500 x 1500, 1.1 MB"],
    ["pcx","20852143_enfr_front.png, 1500 x 1500, 1.3 MB"],
    ["pcx","20798457_enfr_angle.png, 1500 x 1500, 1.9 MB"],
    ["pcx","20083526001_enfr_front.png, 1500 x 1500, 2 MB"],
    ["pcx","21395975_enfr_side.png, 1500 x 1500, 2.3 MB"],
    ["pcx","21395975_enfr_front.png, 1500 x 1500, 2.1 MB"],
    ["pcx","20852143_enfr_angle.png, 1500 x 1500, 994.1 KB"],
    ["sdm","4059729420855_enfr_03_front_white.jpg, 2000 x 2000, 511.3 KB"],
    ["sdm","4059729420855_enfr_02_front_white.jpg, 2000 x 2000, 155.2 KB"],
    ["sdm","3614273066365_enfr_08_front_white.jpg, 2000 x 2000, 1.3 MB"],
    ["sdm","3614273066365_enfr_05_front_white.jpg, 2000 x 2000, 2.8 MB"],
    ["sdm","3614273066365_enfr_04_front_white.jpg, 2000 x 2000, 2.9 MB"],
    ["sdm","3337875683739_en_07_front_white.jpg, 2000 x 2000, 481.1 KB"],
    ["sdm","3337875683739_en_04_front_white.jpg, 2000 x 2000, 810.9 KB"],
    ["sdm","3337875683739_en_03_front_white.jpg, 2000 x 2000, 737 KB"],
    ["sdm","045496599768_enfr_01_front_white.jpg, 2000 x 2000, 1.9 MB"],
    ["sdm","4059729420855_swatch.png, 2000 x 2000, 667 KB"],
    ["sdm","4059729420855_enfr_06_front_white.jpg, 2000 x 2000, 619 KB"],
    ["sdm","4059729420855_enfr_05_front_white.jpg, 2000 x 2000, 695.4 KB"],
    ["sdm","4059729420855_enfr_04_front_white.jpg, 2000 x 2000, 562.2 KB"],
    ["sdm","4059729420855_enfr_01_front_white.jpg, 2000 x 2000, 183.1 KB"],
    ["sdm","3614273066365_enfr_09_front_white.jpg, 2000 x 2000, 329.5 KB"],
    ["sdm","3614273066365_enfr_03_front_white.jpg, 2000 x 2000, 247.8 KB"],
    ["sdm","3614273066365_enfr_02_front_white.jpg, 2000 x 2000, 454.7 KB"],
    ["sdm","3614273066365_enfr_01_front_white.jpg, 2000 x 2000, 232 KB"],
    ["sdm","3337875683739_enfr_01_front_white.jpg, 2000 x 2000, 617.9 KB"],
    ["sdm","3337875683739_en_06_front_white.jpg, 2000 x 2000, 781.5 KB"],
    ["sdm","3337875683739_en_05_front_white.jpg, 2000 x 2000, 502.9 KB"],
    ["sdm","3337875683739_en_02_front_white.jpg, 2000 x 2000, 642.7 KB"],
    ["sdm","094800361171_enfr_05_front_white.jpg, 2000 x 2000, 493.7 KB"],
    ["sdm","094800361171_enfr_04_front_white.jpg, 2000 x 2000, 166.8 KB"],
    ["sdm","094800361171_enfr_03_front_white.jpg, 2000 x 2000, 169.1 KB"],
    ["sdm","094800361171_enfr_02_front_white.jpg, 2000 x 2000, 237 KB"],
    ["sdm","094800361171_enfr_01_front_white.jpg, 2000 x 2000, 178.7 KB"],
    ["sdm","064541317386_fr_03_front_white.jpg, 2000 x 2000, 517.5 KB"],
    ["sdm","064541317386_fr_02_front_white.jpg, 2000 x 2000, 557.5 KB"],
    ["sdm","064541317386_fr_01_front_white.jpg, 2000 x 2000, 513.8 KB"],
    ["sdm","064541317386_en_03_front_white.jpg, 2000 x 2000, 530.6 KB"],
    ["sdm","064541317386_en_02_front_white.jpg, 2000 x 2000, 524.1 KB"],
    ["sdm","064541317386_en_01_front_white.jpg, 2000 x 2000, 497.8 KB"],
    ["sdm","045496599768_enfr_04_front_white.jpg, 2000 x 2000, 1.5 MB"],
    ["sdm","045496599768_enfr_03_front_white.jpg, 2000 x 2000, 1.5 MB"],
    ["sdm","045496599768_enfr_02_front_white.jpg, 2000 x 2000, 1,014.6 KB"],
    ["joe-fresh","S4WR046677_Pink_Swatch_Forward-facing.jpg, 2000 x 1481, 1.5 MB"],
    ["joe-fresh","S4WR046677_Pink_Lay Down_Rear-facing.jpg, 1080 x 1080, 276.1 KB"],
    ["joe-fresh","S4WR046677_Pink_Lay Down_Left-facing.jpg, 1080 x 1080, 209.3 KB"],
    ["joe-fresh","S4WR046677_Pink_Lay Down_Forward-facing.jpg, 1080 x 1080, 141.6 KB"],
    ["joe-fresh","S4WR046677_Orange_Swatch_Forward-facing.jpg, 2000 x 1481, 1.1 MB"],
    ["joe-fresh","S4WR046677_Orange_Lay Down_Rear-facing.jpg, 1080 x 1080, 259.2 KB"],
    ["joe-fresh","S4WR046677_Orange_Lay Down_Left-facing.jpg, 1080 x 1080, 184.5 KB"],
    ["joe-fresh","S4WR046677_Orange_Lay Down_Forward-facing.jpg, 1080 x 1080, 113.9 KB"],
    ["joe-fresh","S4WR046677_Green_Swatch_Forward-facing.jpg, 2000 x 1481, 1.5 MB"],
    ["joe-fresh","S4WR046677_Green_Lay Down_Rear-facing.jpg, 1080 x 1080, 264.2 KB"],
    ["joe-fresh","S4WR046677_Green_Lay Down_Left-facing.jpg, 1080 x 1080, 203.8 KB"],
    ["joe-fresh","S4WR046677_Green_Lay Down_Forward-facing.jpg, 1080 x 1080, 136.6 KB"],
    ["joe-fresh","S4WR046677_Cream_Swatch_Forward-facing.jpg, 2000 x 1481, 1.1 MB"],
    ["joe-fresh","S4WR046677_Cream_Lay Down_Rear-facing.jpg, 1080 x 1080, 236.3 KB"],
    ["joe-fresh","S4WR046677_Cream_Lay Down_Left-facing.jpg, 1080 x 1080, 166.2 KB"],
    ["joe-fresh","S4WR046677_Cream_Lay Down_Forward-facing.jpg, 1080 x 1080, 116.1 KB"],
    ["joe-fresh","S4WR046315_Maroon_Swatch_Forward-facing.jpg, 2000 x 1481, 2.6 MB"],
    ["joe-fresh","S4WR046315_Maroon_Lay Down_Forward-facing.jpg, 4000 x 4000, 7.6 MB"],
    ["joe-fresh","S4WR045756_Medium Wash_Swatch_Forward-facing.jpg, 2000 x 1481, 2.8 MB"],
    ["joe-fresh","S4WP046868_Medium Wash_Swatch_Forward-facing.jpg, 2000 x 1481, 4.1 MB"],
    ["joe-fresh","S4GK042981_Purple_Swatch_Forward-facing.jpg, 2000 x 1481, 1.2 MB"],
    ["joe-fresh","S4GK042981_Purple_Lay Down_Forward-facing.jpg, 4000 x 4000, 9.2 MB"],
    ["joe-fresh","S4WR046315_Maroon_On Figure_Rear-facing.jpg, 4000 x 4000, 9.6 MB"],
    ["joe-fresh","S4WR046315_Maroon_On Figure_Forward-facing.jpg, 4000 x 4000, 11.1 MB"],
    ["joe-fresh","S4WR045756_Medium Wash_On Figure_Right-facing.jpg, 4000 x 4000, 10.4 MB"],
    ["joe-fresh","S4WR045756_Medium Wash_On Figure_Rear-facing.jpg, 4000 x 4000, 12.2 MB"],
    ["joe-fresh","S4WR045756_Medium Wash_On Figure_Left-facing.jpg, 4000 x 4000, 12.1 MB"],
    ["joe-fresh","S4WR045756_Medium Wash_Lay Down_Forward-facing.jpg, 4000 x 4000, 15.1 MB"],
    ["joe-fresh","S4WP046868_Medium Wash_On Figure_Left-facing.jpg, 4000 x 4000, 15.8 MB"],
    ["joe-fresh","S4WP046868_Medium Wash_Lay Down_Forward-facing.jpg, 4000 x 4000, 9.6 MB"],
    ["joe-fresh","S4WR046315_Maroon_On Figure_Left-facing.jpg, 4000 x 4000, 12.9 MB"],
    ["joe-fresh","S4WR045756_Medium Wash_On Figure_Forward-facing.jpg, 4000 x 4000, 13.5 MB"],
    ["joe-fresh","S4WP046868_Medium Wash_On Figure_Rear-facing.jpg, 4000 x 4000, 15.8 MB"],
    ["joe-fresh","S4WP046868_Medium Wash_On Figure_Forward-facing.jpg, 4000 x 4000, 12.4 MB"],
    ["joe-fresh","S4WR044568_White_Lay Down_Forward-facing.tif", "4000 x 4000", "56.9 MB"],
    ["joe-fresh","S4WP046034_White_On Figure_Forward-facing.tif", "5000 x 5000", "28 MB"]]
    ;

    // Function to populate the LOB dropdown
    function populateLobDropdown() {
        var lobSelect = document.getElementById('lobSelect');
        var lobs = imageUrls.map(function(item) {
            return item[0];
        });
        lobs = [...new Set(lobs)]; // Get unique values
        lobs.forEach(function(lob) {
            var option = document.createElement('option');
            option.value = lob;
            option.textContent = lob;
            lobSelect.appendChild(option);
        });
    }

    // Function to populate the Image URL dropdown based on selected LOB
    function populateImageUrlDropdown(selectedLob) {
        var imageUrlSelect = document.getElementById('imageUrlSelect');
        imageUrlSelect.innerHTML = ''; // Clear previous options

        var filteredUrls = imageUrls.filter(function(item) {
            return selectedLob === '' || item[0] === selectedLob;
        });

        filteredUrls.forEach(function(url) {
            var option = document.createElement('option');
            option.value = url[1].split(',')[0];
            option.textContent = url//[1].split(',')[0]; // Display only the filename
            imageUrlSelect.appendChild(option);
        });
    }

    // Function to display images with variable widths
    function displayImagesWithVariations() {
        var container = document.querySelector('.image-container');
        container.innerHTML = '';

        // Get user-entered width values
        var width1 = parseInt(document.getElementById('width1').value);
        var width2 = parseInt(document.getElementById('width2').value);
        var width3 = parseInt(document.getElementById('width3').value);
        var width4 = parseInt(document.getElementById('width4').value);

        // Width variations
        var widths = [width1, width2, width3, width4];

        var selectedImageUrl = document.getElementById('imageUrlSelect').value;
        var pristine = document.createElement('img');
        var pristineWidthText = document.createElement('p');
        pristineWidthText.classList.add('pristine-image-width');


        // Create and append image elements with different widths
        widths.forEach(function(width) {
            var img1 = document.createElement('img');
            var img2 = document.createElement('img');
            var widthText = document.createElement('p');
            widthText.classList.add('image-width');

            img1.src = "https://dis-dev1.assetful.loblaw.ca/content/dam/loblaw-companies-limited/product-staging/manual/imagequalitytest/" + 
            document.getElementById('lobSelect').value + "/" + selectedImageUrl + '/_jcr_content/renditions/cq5dam.web.2048.2048' + 
            document.getElementById('format').value + '?width=' + width; // Append width as query parameter
            img1.alt = 'Image';
            container.appendChild(img1);

            img2.src = "https://dis-dev1.assetful.loblaw.ca/content/dam/loblaw-companies-limited/product-staging/manual/imagequalitytest/" + 
            document.getElementById('lobSelect').value + "/" + selectedImageUrl + '/_jcr_content/renditions/cq5dam.web.4096.4096' + 
            document.getElementById('format').value + '?width=' + width; // Append width as query parameter
            img2.alt = 'Image';
            container.appendChild(img2);
            // Add text display of image width

            widthText.textContent = width + 'px';
            container.appendChild(widthText);


        });
        
        pristine.src = "https://dis-dev1.assetful.loblaw.ca/content/dam/loblaw-companies-limited/product-staging/manual/imagequalitytest/" + 
        document.getElementById('lobSelect').value + "/" + selectedImageUrl + '/_jcr_content/renditions/cq5dam.web.4096.4096' + 
        document.getElementById('format').value;
        container.appendChild(pristine);
        pristineWidthText.textContent = 'pristine';
        container.appendChild(pristineWidthText);
    }

    // Function to initialize the dropdown menus
    function initializeDropdown() {
        populateLobDropdown();

        var lobSelect = document.getElementById('lobSelect');
        lobSelect.addEventListener('change', function() {
            populateImageUrlDropdown(lobSelect.value);
            displayImagesWithVariations();
        });

        var imageUrlSelect = document.getElementById('imageUrlSelect');
        imageUrlSelect.addEventListener('change', function() {
            displayImagesWithVariations();
        });

        //displayImagesWithVariations();
    }

    // Initialize the dropdown menus
    initializeDropdown();
</script>

</body>
</html>
